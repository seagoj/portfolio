<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">    
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
    <head>    
        <meta http-equiv="Content-type" content="text/html;charset=UTF-8"/>
        <link href="google-code-prettify/prettify.css" type="text/css" rel="stylesheet" />
        <link rel="stylesheet" type="text/css" href="style.css" />
        <script src="http://jqueryjs.googlecode.com/files/jquery-1.2.6.min.js" type="text/javascript"></script>
        <script type="text/javascript" src="google-code-prettify/prettify.js"></script>
        <script src="codesample.js" type="text/javascript"></script>
        <title>Portfolio</title>
    </head>
    <body onload="prettyPrint()">
        <div id='contact'>
		<div class='spacer'>&nbsp;</div>
		<div class='spacer'>&nbsp;</div>
		<div id='name'>Jeremy D. Seago</div>
		<div class='address'>1224 Russell Boulevard</div>
		<div id='phone'>314.467.0643</div>
		<div id='email'><a href='seagoj@gmail.com'>seagoj@gmail.com</a></div>
                <div class='spacer'>&nbsp;</div>
                <div class='badge'>
                    <a href="http://jigsaw.w3.org/css-validator/check/referer">
                        <img style="border:0;width:88px;height:31px" src="http://jigsaw.w3.org/css-validator/images/vcss-blue" alt="Valid CSS!" />
                    </a>
                </div>
	</div>
        <div id='resume'>
            <div class='section'>
                <div class='title'>Qualification Summary</div>
                <ul class='bullet'>
                    <li class='entry'>Worked 5+ years as an IT professional managing projects based on client specifications both as the sole consultant/developer and as a member of a project team.</li>
                    <li class='entry'>Experience in team based development with code review and open source projects</li>
                    <li class='entry'>Proficient with C++, Java, HTML, ASP, PHP, MySQL, Perl, Javascript, Jquery library, AJAX frameworks, XML, Unix and Linux shell and Windows batch commands</li>
                    <li class='entry'>Extensive experience with IBM Eclipse, Netbeans and Microsoft Visual Studio IDEs</li>
                    <li class='entry'>Knowledgeable in unit testing, refactoring, object oriented programming, MVC (Model, View, Control) style programming, OWASP principles and man-in-the-middle security analysis using Burp Suite and Fiddler</li>
                </ul>
            </div>
            <div class='section'>
                <div class='title'>Relevant Experience</div>
                <div class='subsection'>
                    <div class='title'>Information Technology Consultant</div>
                    <div class='description'>March 2006-Present  Swink, Fiehler &amp; Co. LLC, St. Louis, MO</div>
                    <ul class='bullet'>
                        <li class='entry'>Planning new network infrastructure installations and security and performance improvements to existing networks</li>
                        <li class='entry'>Installation and ground-up configuration of Windows Server 2003 and 2008 based domains and maintenance of those networks</li>
                        <li class='entry'>Daily network issue and trouble ticket resolution</li>
                        <li class='entry'>Response to all tickets within 30 minutes of submission with a 90% clearance rate in the first hour</li>
                    </ul>
                </div>
                <div class='subsection'>
                    <div class='title'>Web Development Projects at Swink Fiehler</div>
                    <div class='description'>Developed a customer contact generation program with web form management, data entry interface and PHP/MySQL backend. <a href='#' id='sample1'>Code</a></div>
                    <ul class='bullet'>
                        <li class='entry'>Generated an image based on the customer information stored in the system and either emailed the customer a newsletter or printed the newsletter to be mailed based on if the email address of the customer was known.</li>
                    </ul>
                </div>
                <div class='subsection'>
                    <div class='description'>Customization of OSticket open source ticket submission web application</div>
                    <ul class='bullet'>
                        <li class='entry'>OSticket open source project and developing improvements and customizations</li>
                        <li class='entry'>Enhanced automated ticket entry via email.</li>
                        <li class='entry'>Added logic for enhanced notifications on ticket update or transfer.</li>
                        <li class='entry'>Added options for varied automated responses and beginning remote support installation</li>
                        <li class='entry'>Implemented reporting capabilities  for each staff memberâ€™s activity over a given period</li>
                        <li class='entry'>Created ticket submission page streamlined for internal tickets</li>
                    </ul>
                </div>
                <div class='subsection'>
                    <div class='description'>Development of intranet for transportation management company</div>
                    <ul class='bullet'>
                        <li class='entry'>Displayed transportation loads, live weather maps, financial and sales information on constant loop</li>
                        <li class='entry'>Transitions between pages managed with Jquery library and AJAX technology</li>
                        <li class='entry'>Designed to pick up and change displayed information automatically with no need to restart or close the page</li>
                        <li class='entry'>Built in administration page for managing and updating loads</li>
                        <li class='entry'>Loads stored in flat XML file for portability</li>
                    </ul>
                </div>
            </div>
            <div class='section'>
                <div class='title'>Freelance Development</div>
                <div class='description'>2006 - present</div>
                <ul class='bullet'>
                    <li class='entry'>Designed a web application that ran queries against a database based on commands sent to an email address and returned the results in a reply email</li>
                    <li class='entry'>Developed a price aggregator that searched multiple sites via web scraping and available APIs. Used Jquery and AJAX to create a dynamic interface for site.</li>
                </ul>
            </div>
            <div class='section'>
                <div class='title'>Student Web Developer</div>
                <div class='description'>February 2002 - May 2005  Illinois College, Jacksonville, IL</div>
                <ul class='bullet'>
                    <li class='entry'>Developed Illinois College website using HTML, Javascript, CSS and Perl CGI scripting</li>
                    <li class='entry'>Implemented of CSS across entire site</li>
                    <li class='entry'>Migrated and redeveloped website to dynamic ASP environment with substantial CMS support including ability to select page layouts and images</li>
                    <li class='entry'>Port of ASP site to an ASP.net environment.</li>
                </ul>
            </div>
            <div class='section'>
                <div class='title'>Education</div>
                <div class='description'>Illinois College, Jacksonville, IL</div>
                <ul class='bullet'>
                    <li class='entry'>Bachelor of Science in Computer Science</li>
                    <li class='entry'>Mathematics minor</li>
                </ul>
            </div>
            <div class='section'>
                <div class='title'>Relevant Personal Interests</div>
                <ul class='bullet'>
                    <li class='entry'>Attended Defcon 14 and Defcon 16 Conferences</li>
                    <li class='entry'>Strong interest in information and application security</li>
                </ul>
            </div>
            <div id="codesample1">
                <a id="sampleClose">x</a>
                <div class='title'>Code Sample</div>
                <pre class='prettyprint'>
                    <code class='language-php'>
/**
 * Model class for personal MVC framework
 * Only class with knowledge of the database connections
 *
 * @author jds
 */

class model
{
    private $id;
    private $conn;
    private $dbg;
    private $tbl;
    private $dbtype;
    private $cols;
    private $where;
    private $values;
    private $updateOnDup;
    private $rowCount;
    private $query;

    /*
     * Initiates model and set default database and query type, if passed
     * @done  validates passed database type
     * @done  pulls credentials from VCAP_SERVICES Environment Variable
     * @done  sets model.conn to connection object based on DB type
     * @action  sets model.tbl to default table, if passed
     * @action  sets model.query to default query type, if passed
     * @param   $tbl    STRING  Choose which table in the database to act upon
     * @param   $query   STRING  Set action to work on the table
     * @param   $build  BOOL    If true, create table if table doesn't exist
     * @return  void
     */
    function __construct ($id, $tbl=NULL, $query=NULL, $dbtype='mysql')
    {
        $this->setDbg();

        if($this->setDBType($dbtype)) {
            $this->id = $id;

            $this->setCredentials();

            switch($this->dbtype) {
                case 'mysql':
                    $this->dbgMsg("Using mysql connection type.", __METHOD__);
                    if(!is_null(_DB_PORT_))
                        $server = _DB_HOST_.':'._DB_PORT_;
                    else
                        $server = _DB_HOST_;
                    $this->conn = mysql_connect($server, _DB_USER_, _DB_PASSWORD_);
                    print mysql_error();
                    break;
                case 'mongo':
                    $this->dbgMsg("Using mongo connection type.", __METHOD__);
                    /* @todo    initialize connection to mongoDB */
                    $this->conn = new Mongo($server);
                    if(!$this->conn) throw Exception("Failed to connect to MongoDB at ".$server);
                    /* end todo */
                    break;
                case 'nosql':
                    $this->dbgMsg("Using nosql connection type.", __METHOD__);
                    /* @todo   initialize connection to NoSQL */

                    /* end todo */
                    break;
                default:
                    $this->dbgMsg($this->dbtype." is not a supported database type.", __METHOD__, true);
                    break;
            }

            $this->dbgMsg("model.conn opened", __METHOD__);

            // set model.tbl to current table if it is passed on object initialization
            if(!is_null($tbl))
                $this->from($tbl);

            // set model.type to current type if it is passed on object initialization
            if(!is_null($query))
                $this->setQuery($query);
        }
        else
            $this->dbgMsg($dbtype." is not a supported database type.", __METHOD__, true);
    }
    function __destruct ()
    {
        $this->dbgMsg("Initialized", __METHOD__);
        /*****************************************/

        mysql_close($this->conn);
        $this->dbgMsg("model.conn closed", __METHOD__);
    }

    public function from ($tbl)
    {
        $this->dbgMsg("Initialized", __METHOD__);
        /*****************************************/

        if($this->dbtype=='mysql')
            $tbl = '`'._DB_NAME_.'`.`'.$tbl.'`';

        $this->tbl = $this->validateTbl($tbl);

        $this->dbgMsg("model.tbl set to $tbl", __METHOD__);
    }
    public function columns ($cols='*')
    {
        $this->dbgMsg("Initialized", __METHOD__);
        /*****************************************/

        $this->validateCols($cols);
    }
    public function where ($condition, $conjunction=NULL)
    {
        $this->dbgMsg("Initialized", __METHOD__);
        /*****************************************/

        try {
            $this->validateWhere($condition, $conjunction);
        } catch (Exception $e) {
            throw $e;
        }
    }
    public function setQuery ($query)
    {
        $this->dbgMsg("Initialized", __METHOD__);
        /*****************************************/

        $query = strtolower($query);
        switch($query) {
            case 'insertupdate':
                $this->query = 'INSERT';
                $this->updateOnDup=true;
                break;
            case 'default':
                if(!$this->dbg) {
                    $this->query = NULL;
                    $this->dbgMsg("model.query set to $query, but not in debug mode.", __METHOD__, true);
                }
                break;
            case 'update':
            case 'insert':
            case 'select':
                $this->query = $query;
                break;
            default:
                $this->dbgMsg("$query is not a valid query type.", __METHOD__, true);
                break;
        }
        $this->dbgMsg("model.query set to $query", __METHOD__);
    }
    public function query($retType='assoc')
    {
        $this->dbgMsg("Initialized", __METHOD__);
        /*****************************************/

        $validRetTypes = array(
            'array',
            'assoc',
            'field',
            'lengths',
            'object',
            'row'
            );

        if(in_array($retType, $validRetTypes))
        {
            $sql = $this->assemble();
            $result = mysql_query($sql);
            $this->rowCount = mysql_num_rows($result);
            print mysql_error();
            $this->dbgMsg("Return query result.", __METHOD__);



            switch($retType)
            {
                case 'array':
                    $ret = mysql_fetch_array($result);
                    break;
                case 'assoc':
                    $this->dbgMsg("Return type is assoc", __METHOD__);
                    // Begin Development Section

                    //if($this->rowCount > 1) {
                        $ret =array();
                        $count = 0;


                        while($row=mysql_fetch_assoc($result))
                        {
                            if(is_array($this->cols)){
                                $var = $row[$this->cols[0]];
                                $value = $row[$this->cols[1]];
                                if($value==NULL)
                                    $new = array('value'=>$var);
                                else
                                    $new = array($var=>$value);
                                $ret = $ret + $new;
                                /*
                                foreach($this->cols AS $key) {
                                    //$key = $col;
                                    //$key = $row['name'];
                                    $ret[$key] = $row['value'];
                                }
                                 *
                                 */
                            } else {
                                $key = $this->cols;
                                $ret[$key] = $row['value'];
                            }
                        }
                    //}
                    //else
                    //    $ret = mysql_fetch_assoc($result);

                    // End Development Section
                    $this->dbgMsg("Result fetched.", __METHOD__);
                    break;
                case 'field':
                    $ret = mysql_fetch_field($result);
                    break;
                case 'lengths':
                    $ret = mysql_fetch_lengths($result);
                    break;
                case 'object':
                    $ret = mysql_fetch_object($result);
                    break;
                case 'row':
                    $ret = mysql_fetch_row($result);
                    break;
             };
            $this->reset();
            return $ret;
        }
        else
            $this->dbgMsg("Return type must be ".implode(', ', $validRetTypes).".", __METHOD__, true);
    }
    public function values($vals)
    {
        $this->dbgMsg("Initialized", __METHOD__);
        /*****************************************/

        $this->validateVals($vals);
    }
    public function assemble ()
    {
        $this->dbgMsg("Initialized", __METHOD__);
        /*****************************************/

        if(is_array($this->cols)) {
            foreach($this->cols AS $col) {
                ++$count==1 ? $colsStr = '`'.$this->mysqlSanitize($col).'`' : $colsStr .= ",`".$this->mysqlSanitize($col)."`";
                /*
                if(!isset($colStr))
                    $colsStr = '`'.$this->mysqlSanitize($col).'`';
                else
                    $colsStr .= ",`".$this->mysqlSanitize($col)."`";
                 *
                 */
            }
        } else {
            if(!isset($colStr))
                $colsStr = '`'.$this->mysqlSanitize($this->cols).'`';
            else
                $colsStr .= ",`".$this->mysqlSanitize($this->cols)."`";
        }
        switch($this->query)
        {
            case 'select':
                return "SELECT $colsStr FROM $this->tbl WHERE $this->where";
                break;
            case 'insert':
                if(!isset($this->tbl)) throw Exception("Table not set.");
                if(!isset($colsStr)) throw Exception("Cols not set.");
                if(!isset($this->values)) throw Exception("Values not set.");
                if($this->updateOnDup && !isset($this->where)) throw Exception("Where not set.");

                $sql = "INSERT INTO $this->tbl ($colsStr) VALUES ($this->values)";
                $this->updateOnDup ? $sql .= " ON DUPLICATE KEY UPDATE $this->where" : $sql .= '';
                return $sql;
                break;
            case 'update':
                $valsArr = explode(',', $this->values);

                if(count($this->cols)!=count($valsArr))
                    throw Exception("number of columns != number of values");
                else
                {
                    for($i=0; $i<count($this->cols); $i++)
                    {
                        if(!isset($sql))
                            $sql = "$this->cols[$i]=$valsArr[$i]";
                        else
                            $sql .= ",$this->cols[$i]=$valsArr[$i]";
                    }

                    return "UPDATE $this->tbl SET $sql WHERE $this->where";
                }
                break;
            case 'default':
                    /*CREATE TABLE  `464119_nxtlvl`.`test` (
                     *  `index` INT NOT NULL AUTO_INCREMENT PRIMARY KEY ,
                     *  `name` VARCHAR( 50 ) NOT NULL ,
                     *  `sql` VARCHAR( 1000 ) NOT NULL
                     *) ENGINE = INNODB
                     */
                    return "CREATE TABLE IF NOT EXISTS $this->tbl ( `index` INT NOT NULL AUTO_INCREMENT PRIMARY KEY , `name` VARCHAR( 50 ) NOT NULL , `sql` VARCHAR( 1000 ) NOT NULL) ENGINE = INNODB";
                break;
        }
    }
    public function numRows ()
    {
        return $this->rowCount;
    }

    private function setDbg()
    {
        $this->dbg = isset($_REQUEST['dbg']);
        if($this->dbg) require_once("../lib.dbg/class.dbg.php");
    }
    private function dbgMsg($msg, $method, $exception=false)
    {
        if($this->dbg) dbg::msg($msg, $method, $exception);
    }
    private function setDBType($dbtype)
    {
        /* @todo    set these values as env variables */
        $validDB = array(
            'mysql' => true,
            'mongo' => false,
            'nosql' => false
            );

        $dbtype = strtolower($dbtype);

        if($validDB[$dbtype])
            $this->dbtype = $dbtype;
        else {
            throw Exception("$dbtype is not a supported database type.");
            $this->dbgMsg("$dbtype is not a supported database type.", __METHOD__, true);
        }
        return (isset($this->dbtype));
    }
    private function validateTbl($tbl)
    {
        $this->dbgMsg("Initialized", __METHOD__);
        /*****************************************/

        switch($this->dbtype) {
            case 'mysql':
                $pattern = "/`([^`]*)`\.`([^`]*)`/";

                if(preg_match_all($pattern, $tbl, $tokens)) {
                    $dbTok = $tokens[1][0];
                    $tblTok = $tokens[2][0];

                return '`'.$this->mysqlSanitize($dbTok).'`.`'
                    .$this->mysqlSanitize($tblTok).'`';
                }
                else $this->dbgMsg("$tbl is not a valid `db`.'tableName'", __METHOD__, true);
                break;
            case 'mongo':
                /* @todo     */
                $this->dbgMsg("MongoDB is not yet supported.", __METHOD__, true);
                /* end todo */
                break;
            case 'nosql':
                /* @todo     */
                $this->dbgMsg("NoSQL is not yet supported.", __METHOD__, true);
                /* end todo */
                break;
            default:
                $this->dbgMsg("$this->dbtype is not supported.", __METHOD__, true);
                break;
        }
    }
    private function validateCols($cols)
    {
        $this->dbgMsg("Initialized", __METHOD__);
        /*****************************************/

        /*
        $pattern = "/`([^`]*)`,?/";

        if(preg_match_all($pattern, $cols, $tokens))
        {
            foreach($tokens[1] AS $col)
            {
                if(!isset($this->cols))
                    $this->cols = '`'.$this->mysqlSanitize($col).'`';
                else
                    $this->cols .= ",`".$this->mysqlSanitize($col)."`";
            }
        }
        else
            $this->dbgMsg("$cols is not a valid `col1`,`col2`", __METHOD__, true);
         */

        switch($this->dbtype) {
            case 'mysql':
                $this->cols = $cols;
                break;
            default:
                $this->dbgMsg("$this->dbtype is not a supported database type", __METHOD__, true);
                break;
        }

            if($this->cols!=NULL)
                $this->dbgMsg("model.cols set to $this->cols", __METHOD__);
            else
                $this->dbgMsg("Failed to set model.cols", __METHOD__, true);
    }
    private function validateWhere($where, $conjunction)
    {
        $this->dbgMsg("Initialized", __METHOD__);
        /*****************************************/

        /*
        if($where!==true) {
            $pattern = "/`([^`]*)`(\=| LIKE )'([^`]*)'/";

            if(preg_match_all($pattern, $where, $tokens))
            {
                $validConjuntion = array('and','AND','or','OR');

                if(strpos($where, ' LIKE '))
                    $operator = ' LIKE ';
                else
                    $operator = '=';

                $column = $tokens[1][0];
                $value = $tokens[3][0];

                if(!isset($this->where))
                    $this->where = "`".$this->mysqlSanitize($column)."`".$operator."'".$this->mysqlSanitize($value)."'";
                else
                {
                    if(in_array($validConjuction, $conjunction))
                        $this->where .= " $conjunction ".$condition;
                    else throw Exception("Invalid conjunction: $conjunction");
                }
            }
            else
                $this->dbgMsg("$where is not a valid `column`='value'", __METHOD__, true);
      }
      else
        $this->where=true;
         */

        print $conjuction;

        switch($this->dbtype) {
            case 'mysql':
                foreach ($where AS $set) {
                    ++$count==1 ? $conditional.="" : $conditional.=" $conjunction ";
                    $conditional .= '`'.$set['col'].'`=\''.$set['val'].'\'';
                }
                break;
        }

        $this->where = $conditional;
        $this->dbgMsg("model.where set to $this->where", __METHOD__);
    }
    private function validateVals($vals)
    {
        $this->dbgMsg("Initialized", __METHOD__);
        /*****************************************/

        $pattern = "/'([^']*)',?/";

        if(preg_match_all($pattern, $vals, $tokens))
        {
            foreach($tokens[1] AS $val)
            {
                if(!isset($this->values))
                    $this->values = "'".$this->mysqlSanitize($val)."'";
                else
                    $this->values .= ",'".$this->mysqlSanitize($val)."'";
            }
        }
        else
            $this->dbgMsg("$vals is not a valid `val1`,`val2`", __METHOD__, true);
    }
    private function mysqlSanitize($dirty)
    {
        $this->dbgMsg("Initialized", __METHOD__);
        /*****************************************/

        $clean = mysql_real_escape_string($dirty, $this->conn);
        if($clean)
        {
            $this->dbgMsg("Return $clean", __METHOD__);
            return $clean;
        }
        else $this->dbgMsg("Attempt to sanitize $dirty failed.", __METHOD__, true);
    }
    private function reset()
    {
        //UNSET($this->tbl);
        UNSET($this->query);
        UNSET($this->cols);
        UNSET($this->where);
        UNSET($this->values);
        UNSET($this->updateOnDup);
    }
    private function setCredentials()
    {
        switch ($this->dbtype) {
            case 'mysql':
                $services = getenv("VCAP_SERVICES");
                if($services) {
                    $services_json = json_decode($services,true);
                    $mysql_config = $services_json["mysql-5.1"][0]["credentials"];
                } else {
                    $path_array = explode('/',$_SERVER['DOCUMENT_ROOT']);
                    for($i=1; $i<count($path_array); $i++) {
                        if($path_array[$i]=='web')
                            $end = $i;
                    }
                    for($j=1; $j<=$end;$j++) {
                        $path .= '/'.$path_array[$j];
                    }
                    $path .= '/secure/'.$this->id.'.php';
                    require_once($path);
                }

                if(isset($mysql_config)) {
                    //return $mysql_config;
                    define('_DB_NAME_', $mysql_config["name"]);
                    define('_DB_USER_', $mysql_config["user"]);
                    define('_DB_PASSWORD_', $mysql_config["password"]);
                    define('_DB_HOST_', $mysql_config["hostname"]);
                    define('_DB_PORT_', $mysql_config["port"]);
                } else $this->dbgMsg("Database credentials could not be discovered.", __METHOD__, true);
                break;
            case 'mongo':
                break;

        }

    }

    public function UNIT()
    {
        $this->dbgMsg("BoF ".rand(), __METHOD__);

        $this->dbgMsg("EoF", __METHOD__);
    }
}

if(_DEBUG_)
{
    //$model = new model('portfolio','dbconfig','select');
    // print $model->assemble();
    //$model->query();
    //$model->UNIT();
}
                    </code>
                </pre>
            </div>
            <div id="shade"></div>
            <div id='footer'>&nbsp;</div>
        </div>
    </body>
</html>